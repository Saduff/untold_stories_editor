<html>
	<!-- TARGET TIER TEMPLATE -->
	<script type="text/html" id="target_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="tierDescription">Description</label>
				<input id="tierDescription" type="text" data-bind="textInput: description"/>
				<div class="hint">The tier description will appear in the mission status window.</div>
			</div>
		</div>
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m6">
				<label for="targetName">Target Name</label>
				<input id="targetName" type="text" data-bind="textInput: targetName"/>
				<div class="hint">The name of the character to be targeted (case sensitive).</div>
			</div>
			<div class="col m6">
			    <p>
			      <input id="offensiveTarget" type="checkbox" data-bind="checked: isOffensiveTarget"/>
			      <label for="offensiveTarget" class="check-red">Offensive Target</label>
			    </p>
			</div>
		</div>
		<div class="row">
			<div class="col m6 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m6 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
	</script>
	<!-- /TARGET TIER TEMPLATE -->

	<!-- LOCATION TIER TEMPLATE -->
	<script type="text/html" id="location_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="tierDescription">Description</label>
				<input id="tierDescription" type="text" data-bind="textInput: description"/>
				<div class="hint">The tier description will appear in the mission status window.</div>
			</div>
		</div>
		<div class="row" style="margin-bottom: 30px;">
			<div class="col m3">
				<label for="tierPlayField" style="display: inline-block; margin-bottom: 10px;">Playfield (zone):</label>
				<select id="tierPlayField" class="form-control select2 browser-default"
					data-bind="options: playFields, optionsValue: 'id', optionsText: 'text', value: playField">
				</select>
			</div>
			<div class="input-field col m3">
				<label for="X_Coord">X Coordinate</label>
				<input id="X_Coord" type="text" data-bind="textInput: X_Coord"/>
				<div class="hint">The map horizontal coordinate (number).</div>
			</div>
			<div class="input-field col m3">
				<label for="Z_Coord">Z Coordinate</label>
				<input id="Z_Coord" type="text" data-bind="textInput: Z_Coord"/>
				<div class="hint">The map vertical coordinate (number).</div>
			</div>
			<div class="input-field col m3">
				<label for="Y_Coord">Y Coordinate</label>
				<input id="Y_Coord" type="text" data-bind="textInput: Y_Coord"/>
				<div class="hint">The height coordinate (number).</div>
			</div>
		</div>
		<div class="row" style="margin-bottom: 50px;">
			<div class="input-field col m6">
				<label for="distance">Distance</label>
				<input id="distance" type="text" data-bind="textInput: distance"/>
				<div class="hint">
					The distance to indicate the player is within range of the desired X and Z coordinates (number).
				</div>
			</div>
			<div class="input-field col m6">
				<label for="yDistance">yDistance</label>
				<input id="yDistance" type="text" data-bind="textInput: yDistance"/>
				<div class="hint">
					The distance to indicate the player is within range of the desired Y coordinate (number).
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col m6 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m6 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
	</script>
	<!-- /LOCATION TIER TEMPLATE -->

	<!-- KILL TIER TEMPLATE -->
	<script type="text/html" id="kill_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="tierDescription">Description</label>
				<input id="tierDescription" type="text" data-bind="textInput: description"/>
				<div class="hint">The tier description will appear in the mission status window.</div>
			</div>
		</div>
		<div class="row" style="margin-bottom: 50px;">
			<div class="input-field col m10">
				<label for="targetName">Target Name(s)</label>
				<input id="targetName" type="text" data-bind="textInput: targetName"/>
				<div class="hint">
					The name(s) of enemies/monsters that count as a kill.
					If multiple enemy types count as a kill, include the full name of the enemy,
					with each name separated by a comma.
				</div>
			</div>
			<div class="input-field col m2">
				<label for="targetKills">Target Kills</label>
				<input id="targetKills" type="text" data-bind="textInput: targetKills"/>
				<div class="hint">The number of kills required to complete the tier.</div>
			</div>
		</div>
		<div class="row">
			<div class="col m6 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m6 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
	</script>
	<!-- KILL TIER TEMPLATE -->

	<!-- ADD ITEM TEMPLATE -->
	<script type="text/html" id="add_item_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="tierDescription">Description</label>
				<input id="tierDescription" type="text" data-bind="textInput: description"/>
				<div class="hint">The tier description will appear in the mission status window.</div>
			</div>
		</div>
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m8">
				<label for="itemName">Item Name(s)</label>
				<input id="itemName" type="text" data-bind="textInput: itemName"/>
				<div class="hint">
					The name of the item that should be acquired by the user.
					If one of several items can be acquired,
					then the full names of the items should be separated by commas.
				</div>
			</div>
			<div class="col m4">
				<p>
					<input id="autoUseItem" type="checkbox" data-bind="checked: autoUseItem"/>
					<label for="autoUseItem">Auto Use Item</label>
			  	</p>
			  	<p class="hint small">If checked, the item will automatically be used when it is acquired.</p>
			</div>
		</div>
		<div class="row">
			<div class="col m6 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m6 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
	</script>
	<!-- /ADD ITEM TEMPLATE -->

	<!-- USE ITEM TEMPLATE -->
	<script type="text/html" id="use_item_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="tierDescription">Description</label>
				<input id="tierDescription" type="text" data-bind="textInput: description"/>
				<div class="hint">The tier description will appear in the mission status window.</div>
			</div>
		</div>
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="itemName">Item Name</label>
				<input id="itemName" type="text" data-bind="textInput: itemName"/>
				<div class="hint">
					The name of the item to be used. Only a single item can be specified,
					and it must exist in the player&apos;s inventory.
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col m6 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m6 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
	</script>
	<!-- /USE ITEM TEMPLATE -->

	<!-- BROWSER TEMPLATE -->
	<script type="text/html" id="browser_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="tierDescription">Description</label>
				<input id="tierDescription" type="text" data-bind="textInput: description"/>
				<div class="hint">The tier description will appear in the mission status window.</div>
			</div>
		</div>
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="URL">URL</label>
				<input id="URL" type="text" data-bind="textInput: URL"/>
				<div class="hint">The web address of the page to be displayed.</div>
			</div>
		</div>
		<div class="row">
			<div class="input-field col m8">
				<label for="browserTitle">Browser Title (optional)</label>
				<input id="browserTitle" type="text" data-bind="textInput: browserTitle"/>
				<div class="hint">
					The title to be displayed in the web browser title bar.
					If omitted, the default &quot;WEB BROWSER&quot; appears.
				</div>
			</div>
			<div class="col m4">
				<p>
				    <input id="hideAddress" type="checkbox" data-bind="checked: hideAddress"/>
				    <label for="hideAddress">Hide Address</label>
			  	</p>
			  	<p class="hint small">If checked, the browser address box and navigation buttons will be hidden.</p>
			</div>
		</div>
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m6">
				<label for="width">Width (optional)</label>
				<input id="width" type="text" data-bind="textInput: width"/>
				<div class="hint">The width of the browser window.</div>
			</div>
			<div class="input-field col m6">
				<label for="height">Height (optional)</label>
				<input id="height" type="text" data-bind="textInput: height"/>
				<div class="hint">The height of the browser window.</div>
			</div>
		</div>
		<div class="row">
			<div class="col m6 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m6 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
	</script>
	<!-- /BROWSER TEMPLATE -->

	<!-- AUDIO TEMPLATE -->
	<script type="text/html" id="audio_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m12">
				<label for="URL">URL</label>
				<input id="URL" type="text" data-bind="textInput: URL"/>
				<div class="hint">Audio files are downloaded from the web. This is the URL to the file.</div>
			</div>
		</div>
		<div class="row">
			<div class="input-field col m6">
				<label for="volume">(Optional) Volume (0-100)</label>
				<input id="volume" type="text" data-bind="textInput: volume"/>
				<div class="hint">The volume to play the file (0-100). If omitted, the audio is played at full volume (100).</div>
			</div>
			<div class="col m3">
				<p>
					<input id="preload" type="checkbox" data-bind="checked: preload"/>
					<label for="preload">Preload (optional)</label>
			  	</p>
			  	<p class="hint small">If checked, the file is preloaded instead of being played immediately.</p>
			</div>
			<div class="col m3">
				<p>
					<input id="loop" type="checkbox" data-bind="checked: loop"/>
					<label for="loop">Loop (optional)</label>
			  	</p>
			  	<p class="hint small">If checked, the audio will loop continuously.</p>
			</div>
		</div>
		<div class="row">
			<div class="col m6 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m6 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
	</script>
	<!-- /AUDIO TEMPLATE -->

	<!-- STOP AUDIO TEMPLATE -->
	<script type="text/html" id="stop_audio_template">
		<p class="teal-text lighten-1">
			This tier stops audio that started playing in a previous audio tier. Nothing to configure here.
		</p>
	</script>
	<!-- STOP AUDIO TEMPLATE -->

	<!-- DIALOG TEMPLATE -->
	<script type="text/html" id="dialog_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m8">
				<label for="tierDescription">Description</label>
				<input id="tierDescription" type="text" data-bind="textInput: description"/>
				<div class="hint">The tier description will appear in the mission status window.</div>
			</div>
			<div class="input-field col m4">
				<label for="speed">Speed (optional)</label>
				<input id="speed" type="text" data-bind="textInput: speed"/>
				<div class="hint">
					Allows you to control the pace of the conversation.
					The default is 3, which means roughly 3 words per second plus some padding.
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col m4 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m4 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
		<hr class="soften" />

		<div class="row" style="margin-bottom: 30px;">
			<div class="col m12">
				<ul id="dialog_data_dropdown" class="dropdown-content">
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) { $root.addDialogData(data, event, 'dialog_line'); }">
				  			Dialog Line
				  		</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) { $root.addDialogData(data, event, 'dialog_fadeout'); }">
				  			Fade Out
				  		</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) { $root.addDialogData(data, event, 'dialog_fadein'); }">
				  			Fade In
				  		</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) { $root.addDialogData(data, event, 'dialog_audio'); }">
				  			Audio
				  		</a>
				  	</li>
			  	</ul>
				<a class="btn dropdown-button" data-activates="dialog_data_dropdown" data-beloworigin="true"
					data-bind="dropdown: {}">
					<i class="mdi-navigation-arrow-drop-down right"></i>Add
				</a>
			</div>
		</div>

		<div class="row" data-bind="foreach: {
				data: dialogData,
				beforeRemove: function(element) { $(element).slideUp(); },
				afterAdd: function(element) {
					var $element = $(element);
					if ( $element.is('div') ) {
						$('select').material_select();
						$('select2').select2();
						if (!suppressAnimations) {
							$element.hide().slideDown();
							$.customScrollTo($element, 500);
						}
					}
				}
			}">
				<!-- ko template: { name: type + '_template', data: data } --><!-- /ko -->
		</div>

		<!-- ko if: dialogData().length > 0 -->
		<div class="row">
			<div class="col m12 dropup">
				<ul id="dialog_data_dropdown2" class="dropdown-content">
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) { $root.addDialogData(data, event, 'dialog_line'); }">
				  			Dialog Line
				  		</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) { $root.addDialogData(data, event, 'dialog_fadeout'); }">
				  			Fade Out
				  		</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) { $root.addDialogData(data, event, 'dialog_fadein'); }">
				  			Fade In
				  		</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) { $root.addDialogData(data, event, 'dialog_audio'); }">
				  			Audio
				  		</a>
				  	</li>
			  	</ul>
				<a class="btn dropdown-button" data-activates="dialog_data_dropdown2" data-beloworigin="true"
					data-bind="dropdown: {}">
					<i class="mdi-navigation-arrow-drop-up right"></i>Add
				</a>
			</div>
		</div>
		<!-- /ko -->
	</script>

	<script type="text/html" id="dialog_line_template">
		<div class="col m12">
			<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span style="margin-right: 50px;">Dialog Line</span>
		        	<ul class="dropdown-content" data-bind="attr: { id: 'special_expression_dropdown_' + $index() }">
		        		<li>
		        			<a href="#" data-bind="click: function() {
		        				line(line() + '{{m_Player.m_Name}}');
		        				$('input[type=text]').change();
		        			}">Player Name</a>
		        		</li>
		        		<li>
		        			<a href="#" data-bind="click: function() {
		        				line(line() + '{{m_Player.m_Faction}}');
		        				$('input[type=text]').change();
		        			}">Player Faction</a>
		        		</li>
		        		<li>
		        			<a href="#" data-bind="click: function() {
		        				line(line() + '{{m_Player.m_Gender}}');
		        				$('input[type=text]').change();
		        			}">Player Gender</a>
		        		</li>
		        		<li class="divider"></li>
		        		<li>
		        			<a href="#" data-bind="click: function() {
		        				line(line() + '\\n');
		        				$('input[type=text]').change();
		        			}">New Line</a>
		        		</li>
		        	</ul>
		        	<span class="pointer dropdown-toggle" data-beloworigin="true"
		        		data-bind="attr: { 'data-activates': 'special_expression_dropdown_' + $index() }, dropdown: {}">
		        		Add special expression <i class="mdi-navigation-arrow-drop-down"></i>
		        	</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].dialogData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		        <div class="row" style="margin-bottom: 30px;">
		        	<div class="input-field col m12">
						<label data-bind="attr: { for: 'dialog_line_' + $index() }">Dialog Line</label>
						<input type="text" data-bind="textInput: line, attr: { id: 'dialog_line_' + $index() }"/>
						<div class="hint">The line of dialog to appear in the subtitle.</div>
					</div>
		        </div>
		        <div class="row" style="margin-bottom: 50px;">
		        	<div class="input-field col m4">
						<label data-bind="attr: { for: 'dialog_line_duration_' + $index() }">Duration (optional)</label>
						<input type="text" data-bind="textInput: duration, attr: { id: 'dialog_line_duration_' + $index() }"/>
						<div class="hint">
							If you want to override the calculated duration for a specific line,
							you can set it with this attribute. The duration is specified in seconds.
						</div>
					</div>
					<div class="col m4">
						<label>Faction:</label>
						<select data-bind="value: faction">
							<option value="">Any Faction</option>
							<option value="Templar">Templar</option>
							<option value="Illuminati">Illuminati</option>
							<option value="Dragon">Dragon</option>
						</select>
					</div>
					<div class="col m4">
						<label>Gender:</label>
						<select data-bind="value: gender">
							<option value="">Any Gender</option>
							<option value="male">Male</option>
							<option value="female">Female</option>
						</select>
					</div>
		        </div>
		    </div>
		    </div>
		</div>
    </script>

    <script type="text/html" id="dialog_fadeout_template">
    	<div class="col m12">
    		<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Fade Out</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].dialogData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 30px;">
		    		<div class="input-field col m4">
						<label data-bind="attr: { for: 'fadeout_duration_' + $index() }">Duration</label>
						<input type="text" data-bind="textInput: duration, attr: { id: 'fadeout_duration_' + $index() }"/>
						<div class="hint">Indicates how long the fade should take. The duration is specified in seconds.</div>
					</div>
					<div class="col m4">
						<label>Faction:</label>
						<select data-bind="value: faction">
							<option value="">Any Faction</option>
							<option value="Templar">Templar</option>
							<option value="Illuminati">Illuminati</option>
							<option value="Dragon">Dragon</option>
						</select>
					</div>
					<div class="col m4">
						<label>Gender:</label>
						<select data-bind="value: gender">
							<option value="">Any Gender</option>
							<option value="male">Male</option>
							<option value="female">Female</option>
						</select>
					</div>
		    	</div>
		    </div>
    		</div>
    	</div>
    </script>

    <script type="text/html" id="dialog_fadein_template">
    	<div class="col m12">
    		<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Fade In</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].dialogData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 30px;">
		    		<div class="input-field col m4">
						<label data-bind="attr: { for: 'fadein_duration_' + $index() }">Duration</label>
						<input type="text" data-bind="textInput: duration, attr: { id: 'fadein_duration_' + $index() }"/>
						<div class="hint">Indicates how long the fade should take. The duration is specified in seconds.</div>
					</div>
					<div class="col m4">
						<label>Faction:</label>
						<select data-bind="value: faction">
							<option value="">Any Faction</option>
							<option value="Templar">Templar</option>
							<option value="Illuminati">Illuminati</option>
							<option value="Dragon">Dragon</option>
						</select>
					</div>
					<div class="col m4">
						<label>Gender:</label>
						<select data-bind="value: gender">
							<option value="">Any Gender</option>
							<option value="male">Male</option>
							<option value="female">Female</option>
						</select>
					</div>
		    	</div>
		    </div>
		    </div>
    	</div>
    </script>

    <script type="text/html" id="dialog_audio_template">
    	<div class="col m12">
    		<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Audio</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].dialogData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 30px;">
		    		<div class="input-field col m8">
						<label data-bind="attr: { for: 'audio_url_' + $index() }">URL</label>
						<input type="text" data-bind="textInput: URL, attr: { id: 'audio_url_' + $index() }"/>
						<div class="hint">Audio files are downloaded from the web. This is the URL to the file.</div>
					</div>
					<div class="input-field col m4">
						<label data-bind="attr: { for: 'audio_volume_' + $index() }">(Optional) Volume (0-100)</label>
						<input type="text" data-bind="textInput: volume, attr: { id: 'audio_volume_' + $index() }"/>
						<div class="hint">
							The volume to play the file (0-100). If omitted, the audio is played at full volume (100).
						</div>
					</div>
		    	</div>
		    	<div class="row" style="margin-bottom: 20px;">
		    		<div class="col m4">
						<label>Faction:</label>
						<select data-bind="value: faction">
							<option value="">Any Faction</option>
							<option value="Templar">Templar</option>
							<option value="Illuminati">Illuminati</option>
							<option value="Dragon">Dragon</option>
						</select>
					</div>
					<div class="col m4">
						<label>Gender:</label>
						<select data-bind="value: gender">
							<option value="">Any Gender</option>
							<option value="male">Male</option>
							<option value="female">Female</option>
						</select>
					</div>
		    	</div>
		    </div>
		    </div>
    	</div>
    </script>
	<!-- /DIALOG TEMPLATE -->

	<!-- CINEMATIC TEMPLATE -->
	<script type="text/html" id="cinematic_template">
		<div class="row" style="margin-bottom: 30px;">
			<div class="input-field col m8">
				<label for="tierDescription">Description</label>
				<input id="tierDescription" type="text" data-bind="textInput: description"/>
				<div class="hint">The tier description will appear in the mission status window.</div>
			</div>
			<div class="col m4">
				<label for="tierPlayField">Playfield (zone):</label>
				<select id="tierPlayField" class="form-control select2 browser-default" style="margin-bottom: 30px;"
					data-bind="options: playFields, optionsValue: 'id', optionsText: 'text', value: playField">
				</select>
			</div>
		</div>
		<div class="row">
			<div class="col m4 dropup">
				<label for="tierFaction">Tier Faction:</label>
				<select id="tierFaction" data-bind="value: faction">
					<option value="">Any Faction</option>
					<option value="Templar">Templar</option>
					<option value="Illuminati">Illuminati</option>
					<option value="Dragon">Dragon</option>
				</select>
			</div>
			<div class="col m4 dropup">
				<label for="tierGender">Tier Gender:</label>
				<select id="tierGender" data-bind="value: gender">
					<option value="">Any Gender</option>
					<option value="male">Male</option>
					<option value="female">Female</option>
				</select>
			</div>
		</div>
		<hr class="soften"/>

		<div class="row" style="margin-bottom: 30px;">
			<div class="col m12">
				<ul id="cinematic_data_dropdown" class="dropdown-content">
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_camera');
				  		}">Camera Movement</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_facetarget');
				  		}">Face Target</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_facenpc');
				  		}">Face NPC</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_facecoords');
				  		}">Face Coordinates</a>
				  	</li>
				  	<li class="divider"></li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_dialog_line');
				  		}">Dialog Line</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_fadeout');
				  		}">Fade Out</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_fadein');
				  		}">Fade In</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_audio');
				  		}">Audio</a>
				  	</li>
				</ul>
				<a class="btn dropdown-button" style="min-width: 180px;" data-activates="cinematic_data_dropdown"
					data-beloworigin="true" data-bind="dropdown: {}">
					<i class="mdi-navigation-arrow-drop-down right"></i>Add
				</a>
			</div>
		</div>

		<div class="row" data-bind="foreach: {
				data: cinematicData,
				beforeRemove: function(element) { $(element).slideUp(); },
				afterAdd: function(element) {
					var $element = $(element);
					if ( $element.is('div') ) {
						$('select').material_select();
						$('select2').select2();
						if (!suppressAnimations) {
							$element.hide().slideDown();
							$.customScrollTo($element, 500);
						}
					}
				}
			}">
				<!-- ko template: { name: type + '_template', data: data } --><!-- /ko -->
		</div>

		<!-- ko if: cinematicData().length > 0 -->
		<div class="row" style="margin-bottom: 30px;">
			<div class="col m12 dropup">
				<ul id="cinematic_data_dropdown2" class="dropdown-content">
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_camera');
				  		}">Camera Movement</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_facetarget');
				  		}">Face Target</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_facenpc');
				  		}">Face NPC</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_facecoords');
				  		}">Face Coordinates</a>
				  	</li>
				  	<li class="divider"></li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_dialog_line');
				  		}">Dialog Line</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_fadeout');
				  		}">Fade Out</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_fadein');
				  		}">Fade In</a>
				  	</li>
				  	<li>
				  		<a href="#" data-bind="click: function(data, event) {
				  			$root.addCinematicData(data, event, 'cinematic_audio');
				  		}">Audio</a>
				  	</li>
				</ul>
				<a class="btn dropdown-button" style="min-width: 180px;" data-activates="cinematic_data_dropdown2"
					data-beloworigin="true" data-bind="dropdown: {}">
					<i class="mdi-navigation-arrow-drop-up right"></i>Add
				</a>
			</div>
		</div>
		<!-- /ko -->
	</script>

	<script type="text/html" id="cinematic_dialog_line_template">
		<div class="col m12">
			<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span style="margin-right: 50px;">Dialog Line</span>
		        	<div class="dropdown" style="display: inline-block;">
			        	<ul class="dropdown-content" data-bind="attr: { id: 'special_expression_dropdown_' + $index() }">
			        		<li>
			        			<a href="#" data-bind="click: function() {
			        				line(line() + '{{m_Player.m_Name}}');
			        				$('input[type=text]').change();
			        			}">Player Name</a>
			        		</li>
			        		<li>
			        			<a href="#" data-bind="click: function() {
			        				line(line() + '{{m_Player.m_Faction}}');
			        				$('input[type=text]').change();
			        			}">Player Faction</a>
			        		</li>
			        		<li>
			        			<a href="#" data-bind="click: function() {
			        				line(line() + '{{m_Player.m_Gender}}');
			        				$('input[type=text]').change();
			        			}">Player Gender</a>
			        		</li>
			        		<li class="divider"></li>
			        		<li>
			        			<a href="#" data-bind="click: function() {
			        				line(line() + '\\n');
			        				$('input[type=text]').change();
			        			}">New Line</a>
			        		</li>
			        	</ul>
			        </div>
			        <span class="pointer dropdown-toggle" data-beloworigin="true"
		        		data-bind="attr: { 'data-activates': 'special_expression_dropdown_' + $index() }, dropdown: {}">
		        		Add special expression <i class="mdi-navigation-arrow-drop-down"></i>
		        	</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].cinematicData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		        <div class="row" style="margin-bottom: 30px;">
		        	<div class="input-field col m12">
						<label data-bind="attr: { for: 'dialog_line_' + $index() }">Dialog Line</label>
						<input type="text" data-bind="textInput: line, attr: { id: 'dialog_line_' + $index() }"/>
						<div class="hint">The line of dialog to appear in the subtitle.</div>
					</div>
		        </div>
		        <div class="row" style="margin-bottom: 50px;">
		        	<div class="input-field col m4">
						<label data-bind="attr: { for: 'dialog_line_duration_' + $index() }">Duration (optional)</label>
						<input type="text" data-bind="textInput: duration, attr: { id: 'dialog_line_duration_' + $index() }"/>
						<div class="hint">
							If you want to override the calculated duration for a specific line,
							you can set it with this attribute. The duration is specified in seconds.
						</div>
					</div>
					<div class="col m4">
						<label>Faction:</label>
						<select data-bind="value: faction">
							<option value="">Any Faction</option>
							<option value="Templar">Templar</option>
							<option value="Illuminati">Illuminati</option>
							<option value="Dragon">Dragon</option>
						</select>
					</div>
					<div class="col m4">
						<label>Gender:</label>
						<select data-bind="value: gender">
							<option value="">Any Gender</option>
							<option value="male">Male</option>
							<option value="female">Female</option>
						</select>
					</div>
		        </div>
		    </div>
		    </div>
		</div>
    </script>

    <script type="text/html" id="cinematic_fadeout_template">
    	<div class="col m12">
    		<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Fade Out</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].cinematicData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 30px;">
		    		<div class="input-field col m4">
						<label data-bind="attr: { for: 'fadeout_duration_' + $index() }">Duration</label>
						<input type="text" data-bind="textInput: duration, attr: { id: 'fadeout_duration_' + $index() }"/>
						<div class="hint">Indicates how long the fade should take. The duration is specified in seconds.</div>
					</div>
					<div class="col m4">
						<label>Faction:</label>
						<select data-bind="value: faction">
							<option value="">Any Faction</option>
							<option value="Templar">Templar</option>
							<option value="Illuminati">Illuminati</option>
							<option value="Dragon">Dragon</option>
						</select>
					</div>
					<div class="col m4">
						<label>Gender:</label>
						<select data-bind="value: gender">
							<option value="">Any Gender</option>
							<option value="male">Male</option>
							<option value="female">Female</option>
						</select>
					</div>
		    	</div>
		    </div>
		    </div>
    	</div>
    </script>

    <script type="text/html" id="cinematic_fadein_template">
    	<div class="col m12">
    		<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Fade In</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].cinematicData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 30px;">
		    		<div class="input-field col m4">
						<label data-bind="attr: { for: 'fadein_duration_' + $index() }">Duration</label>
						<input type="text" data-bind="textInput: duration, attr: { id: 'fadein_duration_' + $index() }"/>
						<div class="hint">Indicates how long the fade should take. The duration is specified in seconds.</div>
					</div>
					<div class="col m4">
						<label>Faction:</label>
						<select data-bind="value: faction">
							<option value="">Any Faction</option>
							<option value="Templar">Templar</option>
							<option value="Illuminati">Illuminati</option>
							<option value="Dragon">Dragon</option>
						</select>
					</div>
					<div class="col m4">
						<label>Gender:</label>
						<select data-bind="value: gender">
							<option value="">Any Gender</option>
							<option value="male">Male</option>
							<option value="female">Female</option>
						</select>
					</div>
		    	</div>
		    </div>
		    </div>
    	</div>
    </script>

    <script type="text/html" id="cinematic_audio_template">
    	<div class="col m12">
    		<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Audio</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].cinematicData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 30px;">
		    		<div class="input-field col m8">
						<label data-bind="attr: { for: 'audio_url_' + $index() }">URL</label>
						<input type="text" data-bind="textInput: URL, attr: { id: 'audio_url_' + $index() }"/>
						<div class="hint">Audio files are downloaded from the web. This is the URL to the file.</div>
					</div>
					<div class="input-field col m4">
						<label data-bind="attr: { for: 'audio_volume_' + $index() }">(Optional) Volume (0-100)</label>
						<input type="text" data-bind="textInput: volume, attr: { id: 'audio_volume_' + $index() }"/>
						<div class="hint">
							The volume to play the file (0-100). If omitted, the audio is played at full volume (100).
						</div>
					</div>
		    	</div>
		    	<div class="row" style="margin-bottom: 20px;">
		    		<div class="col m4">
						<label>Faction:</label>
						<select data-bind="value: faction">
							<option value="">Any Faction</option>
							<option value="Templar">Templar</option>
							<option value="Illuminati">Illuminati</option>
							<option value="Dragon">Dragon</option>
						</select>
					</div>
					<div class="col m4">
						<label>Gender:</label>
						<select data-bind="value: gender">
							<option value="">Any Gender</option>
							<option value="male">Male</option>
							<option value="female">Female</option>
						</select>
					</div>
		    	</div>
		    </div>
		    </div>
    	</div>
    </script>

    <script type="text/html" id="cinematic_camera_template">
    	<div class="col m12">
    		<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Camera Movement</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].cinematicData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 50px;">
		    		<div class="input-field col m6">
						<label data-bind="attr: { for: 'camera_duration_' + $index() }">Duration</label>
						<input type="text" data-bind="textInput: duration, attr: { id: 'camera_duration_' + $index() }"/>
						<div class="hint">
							This is the amount of time (in milliseconds) designated for the camera to move from its
							current position to the specified position.
						</div>
					</div>
					<div class="col m6">
						<label>Ease function:</label>
						<select data-bind="value: ease">
							<option value="">None</option>
							<option value="Regular.easeIn">Regular.easeIn</option>
							<option value="Regular.easeOut">Regular.easeOut</option>
							<option value="Regular.easeInOut">Regular.easeInOut</option>
							<option value="Strong.easeIn">Strong.easeIn</option>
							<option value="Strong.easeOut">Strong.easeOut</option>
							<option value="Strong.easeInOut">Strong.easeInOut</option>
							<option value="Elastic.easeIn">Elastic.easeIn</option>
							<option value="Elastic.easeOut">Elastic.easeOut</option>
							<option value="Elastic.easeInOut">Elastic.easeInOut</option>
							<option value="Bounce.easeIn">Bounce.easeIn</option>
							<option value="Bounce.easeOut">Bounce.easeOut</option>
							<option value="Bounce.easeInOut">Bounce.easeInOut</option>
							<option value="Back.easeIn">Back.easeIn</option>
							<option value="Back.easeOut">Back.easeOut</option>
							<option value="Back.easeInOut">Back.easeInOut</option>
						</select>
					</div>
		    	</div>
		    	<div class="row" style="margin-bottom: 30px;">
			    	<div class="input-field col m4">
						<label data-bind="attr: { for: 'camera_x_coord_' + $index() }">X Coordinate</label>
						<input type="text" data-bind="textInput: posX, attr: { id: 'camera_x_coord_' + $index() }"/>
						<div class="hint">
							The horizontal coordinate where the camera is placed (number).
						</div>
					</div>
					<div class="input-field col m4">
						<label data-bind="attr: { for: 'camera_z_coord_' + $index() }">Z Coordinate</label>
						<input type="text" data-bind="textInput: posZ, attr: { id: 'camera_z_coord_' + $index() }"/>
						<div class="hint">
							The vertical coordinate where the camera is placed (number).
						</div>
					</div>
					<div class="input-field col m4">
						<label data-bind="attr: { for: 'camera_y_coord_' + $index() }">Y Coordinate</label>
						<input type="text" data-bind="textInput: posY, attr: { id: 'camera_y_coord_' + $index() }"/>
						<div class="hint">
							The height coordinate where the camera is placed (number).
						</div>
					</div>
		    	</div>
		    	<div class="row" style="margin-bottom: 50px;">
			    	<div class="input-field col m4">
						<label data-bind="attr: { for: 'camera_target_x_' + $index() }">Target X</label>
						<input type="text" data-bind="textInput: targetX, attr: { id: 'camera_target_x_' + $index() }"/>
						<div class="hint">
							The horizontal coordinate the camera will focus on (number).
							Set this to -99 to focus on the player (targetY and targetZ will be ignored).
						</div>
					</div>
					<div class="input-field col m4">
						<label data-bind="attr: { for: 'camera_target_z_' + $index() }">Target Z</label>
						<input type="text" data-bind="textInput: targetZ, attr: { id: 'camera_target_z_' + $index() }"/>
						<div class="hint">
							The vertical coordinate the camera will focus on (number).
						</div>
					</div>
					<div class="input-field col m4">
						<label data-bind="attr: { for: 'camera_target_y_' + $index() }">Target Y</label>
						<input type="text" data-bind="textInput: targetY, attr: { id: 'camera_target_y_' + $index() }"/>
						<div class="hint">
							The height coordinate the camera will focus on (number).
						</div>
					</div>
		    	</div>
		    </div>
		    </div>
    	</div>
    </script>

    <script type="text/html" id="cinematic_facetarget_template">
    	<div class="col m12">
			<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Face Target</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].cinematicData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<p class="teal-text lighten-1">
		    		Sets the player rotation to face the currently selected defensive target/NPC. Nothing to configure here.
		    	</p>
		    </div>
		    </div>
		</div>
	</script>

	<script type="text/html" id="cinematic_facenpc_template">
    	<div class="col m12">
			<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Face NPC</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].cinematicData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 30px;">
			    	<div class="input-field col m12">
						<label data-bind="attr: { for: 'cinematic_npc_' + $index() }">NPC Name</label>
						<input type="text" data-bind="textInput: name, attr: { id: 'cinematic_npc_' + $index() }"/>
						<div class="hint">
							Set the player rotation to face the named NPC. This is useful for having the player
							face named NPCs that are not targetable, or that otherwise would not be the currently
							selected target.
						</div>
					</div>
				</div>
		    </div>
		    </div>
		</div>
	</script>

	<script type="text/html" id="cinematic_facecoords_template">
    	<div class="col m12">
			<div class="panel panel-primary">
		    <div class="panel-heading">
		        <div class="panel-title">
		        	<span>Face Coordinates</span>
		        	<span class="right pointer" data-bind="click: function() { $parents[1].cinematicData.remove($parent); }">
		        		<i class="mdi-action-delete red-text"></i> Delete
		        	</span>
		        </div>
		    </div>
		    <div class="panel-body" style="margin-top: 10px;">
		    	<div class="row" style="margin-bottom: 20px;">
			    	<div class="input-field col m6">
						<label data-bind="attr: { for: 'camera_face_x_' + $index() }">X Coordinate</label>
						<input type="text" data-bind="textInput: X_Coord, attr: { id: 'camera_face_x_' + $index() }"/>
						<div class="hint">
							The horizontal coordinate the player should face (number).
						</div>
					</div>
					<div class="input-field col m6">
						<label data-bind="attr: { for: 'camera_face_z_' + $index() }">Z Coordinate</label>
						<input type="text" data-bind="textInput: Z_Coord, attr: { id: 'camera_face_z_' + $index() }"/>
						<div class="hint">
							The vertical coordinate the player should face (number).
						</div>
					</div>
				</div>
		    </div>
		    </div>
		</div>
	</script>
	<!-- /CINEMATIC TEMPLATE -->
</html>